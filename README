# 青鸾向导 - AI智能助手系统

一个基于 **Flask** 和 **LangChain** 的智能 AI 助手系统，支持多智能体对话、旅行规划和历史记录管理。

---

## 🌟 功能特性

### 🤖 智能对话
- **多智能体支持**：通用 AI 助手和专门的旅行规划智能体  
- **流式响应**：实时显示 AI 回复，提供更好的用户体验  
- **Markdown 渲染**：支持代码高亮、表格、列表等富文本格式  
- **上下文记忆**：保持对话连续性，支持多轮对话  

### ✈️ 旅行规划
- **智能规划**：基于用户需求自动生成旅行方案  
- **多信息源**：集成航班、酒店、景点、餐厅等搜索功能  
- **预算控制**：根据用户预算提供个性化推荐  
- **详细方案**：包含行程安排、交通规划、餐饮推荐等  

### 💾 数据管理
- **SQLite 数据库**：高效的数据存储和查询  
- **用户系统**：注册登录、会话管理  
- **历史记录**：完整的对话历史保存和检索  
- **数据安全**：用户权限验证和数据隔离  

---

## 🚀 快速开始

### 环境要求
- Python 3.8+
- SQLite3
- Redis（可选，用于缓存）

### 安装步骤

1. **克隆项目**
    ```bash
    git clone <repository-url>
    cd new_py
    ```

2. **创建虚拟环境**
    ```bash
    python -m venv .venv
    # Windows
    .venv\Scripts\activate
    # Linux/Mac
    source .venv/bin/activate
    ```

3. **安装依赖**
    ```bash
    pip install -r requirements.txt
    ```

4. **配置环境变量**（创建 `.env` 文件）：
    ```env
    FLASK_SECRET_KEY=your_secret_key_here
    OPENAI_API_KEY=your_openai_api_key
    OPENAI_API_URL=https://api.openai.com/v1
    SEARCHAPI_API_KEY=your_searchapi_key
    ```

5. **初始化数据库**
    ```bash
    python database_self.py
    ```

6. **运行应用**
    ```bash
    python app.py
    ```

7. **访问应用**
    打开浏览器访问：`http://localhost:5000`

---

## 📁 项目结构

